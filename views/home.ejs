<!DOCTYPE html>
<html lang="en">
<%- include('./partials/setup.ejs')%>
<body id="home-page">
    <%- include('./partials/navbar.ejs')%>  
    <% if(currentUser._id ==='0'){ %>
        <h3>Your Playlists</h3>
        <h4>Log in for custom content!</h4>
        <h3>Recommended Playlists</h3>
        <div class="playlist-container">
            <% for(let i=0; i<3;i++){ %>
                <div class="playlist-card">
                    <form action="" method="">
                        <button type="submit">
                            <img src="/site/playlist.png" alt="Playlist Img">
                            <div class="hover-play"><ion-icon name="play-sharp"></ion-icon></div>
                        </button>
                    </form>
                    <a href="">App Generated Playlist</a>
                </div>
            <% }%>
        </div>
        <h3>Upcoming Events </h3>
        <div class="event-container">
            <% for(let i=0; i<3;i++){ %>
                <div class="event-card">
                    <h5>Event Name</h5>
                    <img src="/site/event-2.png" alt="Artist Img">
                    <p>Event information</p>
                    <div class="Google maps">Location</div>
                </div>
            <% }%>
        </div>
    <% } else { %>
        <h3>Your Playlists</h3>
        <div class="playlist-container">
            <% for(let i=0; i<currentUser.playlists.length;i++){ %>
                <div class="playlist-card">
                    <form action="" method="">
                        <button type="submit">
                            <img src="/site/playlist.png" alt="Playlist Img">
                            <div class="hover-play"><ion-icon name="play-sharp"></ion-icon></div>
                        </button>
                    </form>
                    <a href="/playlist/<%=i%>"><%= currentUser.playlists[i].name%></a>
                </div>
            <% } %>
        </div>
        <h3>Recommended Playlists</h3>        
        <div class="playlist-container">
            <% if(currentUser.genrePreferences.length ===0){ %>
                <h4>Change your music preferences for a better experience!</h4>
            <% } %>
            <% for(let i=0; i<currentUser.genrePreferences.length;i++){ %>
                <% let word =[' Trip', ' Road', ' Journey'] %>
                <% let random = Math.floor(Math.random()*word.length) %>
                <div class="playlist-card">
                    <form action="" method="">
                        <button type="submit">
                            <img src="/site/playlist.png" alt="Playlist Img">
                            <div class="hover-play"><ion-icon name="play-sharp"></ion-icon></div>
                        </button>
                    </form>
                    <a href="/playlist/<%=i%>"><%=currentUser.genrePreferences[i]+word[random]%></a>
                </div>
            <% } %>
        </div>        
        <h3>Upcoming Events </h3>
        <div class="event-container">
            <% for(let i=0; i<2;i++){ %>
                <div class="event-card">
                    <h5>Event Name</h5>
                    <img src="/site/event-2.png" alt="Artist Img">
                    <p>Event information</p>
                    <div class="Google maps">Location</div>
                </div>
            <% } %>
        </div>
    <% } %>
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>